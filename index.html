<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <meta name="theme-color" content="#111111" />
  <title>ë¯¼ìš° ë¹„í–‰ê¸° í”¼í•˜ê¸°</title>

  <link rel="manifest" href="manifest.json" />
  <style>
    html, body { margin:0; height:100%; background:#0b1020; overflow:hidden; font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", sans-serif; }
    #wrap { position: relative; width:100%; height:100%; }
    canvas { width:100%; height:100%; display:block; touch-action:none; }

    .hud {
      position:absolute; left:12px; top:12px;
      color:#fff; font-weight:800; font-size:15px;
      text-shadow: 0 2px 6px rgba(0,0,0,0.6);
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
      max-width: calc(100% - 160px);
    }
    .hud span { opacity:0.95; padding:6px 10px; border-radius:12px; background: rgba(255,255,255,0.10); backdrop-filter: blur(6px); }
    .btns {
      position:absolute; right:12px; top:12px;
      display:flex; gap:8px;
    }
    button {
      appearance:none; border:0; border-radius:12px; padding:10px 12px;
      font-weight:900; background:rgba(255,255,255,0.12); color:#fff;
      backdrop-filter: blur(6px);
    }
    button:active { transform: translateY(1px); }

    .panel {
      position:absolute; left:50%; top:50%;
      transform:translate(-50%,-50%);
      color:#fff; text-align:center;
      padding:14px 16px; border-radius:18px;
      background:rgba(0,0,0,0.42);
      width:min(420px, 90vw);
      line-height:1.35;
      box-shadow: 0 10px 28px rgba(0,0,0,0.35);
    }
    .panel b { font-size:18px; display:block; margin-bottom:10px; }
    .panel small { opacity:0.9; display:block; margin-top:10px; }
    .row { display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin-top:10px; }
    .chip {
      padding:10px 12px; border-radius:14px;
      background: rgba(255,255,255,0.12);
      font-weight:900;
      user-select:none;
      border: 1px solid rgba(255,255,255,0.10);
    }
    .chip.active { background: rgba(125,182,255,0.22); border-color: rgba(125,182,255,0.35); }

    .toast {
      position:absolute; left:50%; bottom:18px;
      transform:translateX(-50%);
      color:#fff; font-weight:900;
      background: rgba(0,0,0,0.45);
      padding:10px 12px; border-radius:14px;
      opacity:0; pointer-events:none;
      transition: opacity 160ms ease;
    }
    .toast.show { opacity:1; }
  </style>
</head>
<body>
  <div id="wrap">
    <canvas id="c"></canvas>

    <div class="hud">
      <span id="score">ì ìˆ˜: 0</span>
      <span id="coin">ì½”ì¸: 0</span>
      <span id="best">ìµœê³ : 0</span>
      <span id="life">ëª©ìˆ¨: 10</span>
      <span id="level">ë ˆë²¨: 1</span>
    </div>

    <div class="btns">
      <button id="soundBtn">ì‚¬ìš´ë“œ ON</button>
      <button id="pauseBtn">ì¼ì‹œì •ì§€</button>
      <button id="restartBtn">ì¬ì‹œì‘</button>
    </div>

    <div id="panel" class="panel">
      <b>ë¯¼ìš° ë¹„í–‰ê¸° í”¼í•˜ê¸° âœˆï¸</b>
      <div>í™”ë©´ì„ <b>í„°ì¹˜í•´ì„œ ë“œë˜ê·¸</b>í•˜ë©´ ë¹„í–‰ê¸°ê°€ ì›€ì§ì—¬ìš”.</div>
      <div>ğŸ”¸ ì¥ì• ë¬¼(ìš´ì„)ì„ í”¼í•˜ì„¸ìš”</div>
      <div>ğŸª™ ì½”ì¸ì„ ë¨¹ìœ¼ë©´ ì ìˆ˜ ë³´ë„ˆìŠ¤!</div>
      <div style="margin-top:10px; font-weight:900;">ë¹„í–‰ê¸° ìŠ¤í‚¨ ì„ íƒ</div>
      <div class="row" id="skinRow">
        <div class="chip active" data-skin="red">ë ˆë“œ</div>
        <div class="chip" data-skin="blue">ë¸”ë£¨</div>
        <div class="chip" data-skin="robot">ë¡œë´‡</div>
      </div>
      <small>(ì•„ë¬´ ê³³ì´ë‚˜ í„°ì¹˜í•˜ë©´ ì‹œì‘)</small>
    </div>

    <div id="toast" class="toast">+ì½”ì¸!</div>
  </div>

<script>
(() => {
  // PWA ì„œë¹„ìŠ¤ì›Œì»¤ ë“±ë¡
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => navigator.serviceWorker.register('./sw.js'));
  }

  const canvas = document.getElementById('c');
  const ctx = canvas.getContext('2d');

  const elScore = document.getElementById('score');
  const elCoin = document.getElementById('coin');
  const elBest = document.getElementById('best');
  const elLife = document.getElementById('life');
  const elLevel = document.getElementById('level');

  const panel = document.getElementById('panel');
  const toast = document.getElementById('toast');

  const pauseBtn = document.getElementById('pauseBtn');
  const restartBtn = document.getElementById('restartBtn');
  const soundBtn = document.getElementById('soundBtn');

  const skinRow = document.getElementById('skinRow');

  let W = 0, H = 0, DPR = 1;

  const clamp = (v, a, b) => Math.max(a, Math.min(b, v));
  const rand = (a, b) => a + Math.random() * (b - a);

  function resize() {
    DPR = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
    W = Math.floor(window.innerWidth);
    H = Math.floor(window.innerHeight);
    canvas.width = Math.floor(W * DPR);
    canvas.height = Math.floor(H * DPR);
    ctx.setTransform(DPR, 0, 0, DPR, 0, 0);
  }
  window.addEventListener('resize', resize);
  resize();

  // ---------- ì‚¬ìš´ë“œ(ì™¸ë¶€ íŒŒì¼ ì—†ì´ WebAudio) ----------
  let audioEnabled = true;
  soundBtn.textContent = 'ì‚¬ìš´ë“œ ON';

  function beep(freq=440, dur=0.06, type='sine', gain=0.06) {
    if (!audioEnabled) return;
    const AudioCtx = window.AudioContext || window.webkitAudioContext;
    if (!AudioCtx) return;
    const ac = beep._ac || (beep._ac = new AudioCtx());

    // ëª¨ë°”ì¼ì—ì„œ ì‚¬ìš©ì ì œìŠ¤ì²˜ í›„ ì¬ìƒ ê°€ëŠ¥. ìµœì´ˆ í„°ì¹˜ ì´í›„ ì•ˆì •ì .
    if (ac.state === 'suspended') ac.resume().catch(()=>{});

    const o = ac.createOscillator();
    const g = ac.createGain();
    o.type = type;
    o.frequency.value = freq;
    g.gain.value = gain;

    o.connect(g);
    g.connect(ac.destination);

    const t = ac.currentTime;
    g.gain.setValueAtTime(gain, t);
    g.gain.exponentialRampToValueAtTime(0.0001, t + dur);

    o.start(t);
    o.stop(t + dur);
  }

  function sfxCoin() { beep(880, 0.05, 'triangle', 0.07); beep(1320, 0.05, 'triangle', 0.05); }
  function sfxHit() { beep(140, 0.10, 'sawtooth', 0.08); }
  function sfxBoss() { beep(220, 0.10, 'square', 0.07); beep(180, 0.12, 'square', 0.05); }
  function sfxStart() { beep(660, 0.06, 'triangle', 0.06); beep(880, 0.06, 'triangle', 0.05); }

  soundBtn.addEventListener('click', () => {
    audioEnabled = !audioEnabled;
    soundBtn.textContent = audioEnabled ? 'ì‚¬ìš´ë“œ ON' : 'ì‚¬ìš´ë“œ OFF';
    beep(440, 0.04, 'sine', 0.04);
  });

  // ---------- ìƒíƒœ ----------
  const state = {
    running: false,
    paused: false,
    gameOver: false,
    t: 0,
    score: 0,
    coin: 0,
    best: Number(localStorage.getItem('minwoo_plane_best') || 0),
    level: 1,

    lives: 10,          // âœ… ëª©ìˆ¨ 10ê°œ
    invuln: 0,          // í”¼ê²© í›„ ë¬´ì  ì‹œê°„

    speed: 220,         // ì¥ì• ë¬¼ ë‚™í•˜ ì†ë„(px/s)
    spawnEvery: 0.75,   // ì¥ì• ë¬¼ ìƒì„± ê°„ê²©(s)
    spawnTimer: 0,

    coinEvery: 1.6,     // ì½”ì¸ ìƒì„± ê°„ê²©(s)
    coinTimer: 0,

    bossEvery: 12.0,    // ë³´ìŠ¤(í° ìš´ì„) ë“±ì¥ ì£¼ê¸°(s)
    bossTimer: 0,

    lastTs: 0,
    skin: localStorage.getItem('minwoo_plane_skin') || 'red'
  };
  elBest.textContent = `ìµœê³ : ${state.best}`;

  // ---------- í”Œë ˆì´ì–´ ----------
  const player = {
    x: W * 0.5,
    y: H * 0.82,
    r: 18,
    targetX: null,
    targetY: null
  };

  // ---------- ì˜¤ë¸Œì íŠ¸ ----------
  const meteors = []; // {x,y,r,vy,isBoss}
  const coins = [];   // {x,y,r,vy,spin}

  function showToast(text) {
    toast.textContent = text;
    toast.classList.add('show');
    clearTimeout(showToast._t);
    showToast._t = setTimeout(()=> toast.classList.remove('show'), 450);
  }

  function updateHud() {
    elScore.textContent = `ì ìˆ˜: ${Math.floor(state.score)}`;
    elCoin.textContent  = `ì½”ì¸: ${state.coin}`;
    elBest.textContent  = `ìµœê³ : ${state.best}`;
    elLife.textContent  = `ëª©ìˆ¨: ${state.lives}`;
    elLevel.textContent = `ë ˆë²¨: ${state.level}`;
  }

  function resetGame() {
    state.running = false;
    state.paused = false;
    state.gameOver = false;
    state.t = 0;
    state.score = 0;
    state.coin = 0;

    state.level = 1;
    state.lives = 10;
    state.invuln = 0;

    state.speed = 220;
    state.spawnEvery = 0.75;
    state.spawnTimer = 0;

    state.coinEvery = 1.6;
    state.coinTimer = 0;

    state.bossEvery = 12.0;
    state.bossTimer = 0;

    meteors.length = 0;
    coins.length = 0;

    player.x = W * 0.5;
    player.y = H * 0.82;
    player.targetX = null;
    player.targetY = null;

    panel.style.display = 'block';
    updateHud();
    pauseBtn.textContent = 'ì¼ì‹œì •ì§€';
  }

  function setGameOver() {
    state.gameOver = true;
    state.running = false;
    state.paused = false;

    state.best = Math.max(state.best, Math.floor(state.score));
    localStorage.setItem('minwoo_plane_best', String(state.best));
    updateHud();

    panel.style.display = 'block';
    panel.innerHTML = `
      <b>ê²Œì„ ì˜¤ë²„ ğŸ˜µ</b>
      <div>ì ìˆ˜: <b>${Math.floor(state.score)}</b></div>
      <div>ì½”ì¸: <b>${state.coin}</b> / ìµœê³ : <b>${state.best}</b></div>
      <div style="margin-top:10px; font-weight:900;">í™”ë©´ì„ í„°ì¹˜í•˜ë©´ ë‹¤ì‹œ ì‹œì‘!</div>
      <small>(ì•„ë¹ ê°€ ë§Œë“  ê²Œì„ ğŸ™‚)</small>
    `;
  }

  // ---------- ìŠ¤í‚¨ ì„ íƒ UI ----------
  function applySkinUI() {
    [...skinRow.querySelectorAll('.chip')].forEach(ch => {
      ch.classList.toggle('active', ch.dataset.skin === state.skin);
    });
  }
  applySkinUI();

  skinRow.addEventListener('click', (e) => {
    const chip = e.target.closest('.chip');
    if (!chip) return;
    state.skin = chip.dataset.skin;
    localStorage.setItem('minwoo_plane_skin', state.skin);
    applySkinUI();
    beep(520, 0.04, 'triangle', 0.05);
  });

  // ---------- ì¡°ì‘ ----------
  let isPointerDown = false;

  function pointerPos(e) {
    const rect = canvas.getBoundingClientRect();
    const x = (e.clientX - rect.left);
    const y = (e.clientY - rect.top);
    return {x, y};
  }

  canvas.addEventListener('pointerdown', (e) => {
    canvas.setPointerCapture(e.pointerId);
    isPointerDown = true;
    const p = pointerPos(e);

    if (!state.running && !state.gameOver) {
      state.running = true;
      panel.style.display = 'none';
      sfxStart();
    } else if (state.gameOver) {
      resetGame();
      state.running = true;
      panel.style.display = 'none';
      sfxStart();
    }

    player.targetX = p.x;
    player.targetY = p.y;
  });

  canvas.addEventListener('pointermove', (e) => {
    if (!isPointerDown) return;
    const p = pointerPos(e);
    player.targetX = p.x;
    player.targetY = p.y;
  });

  canvas.addEventListener('pointerup', () => {
    isPointerDown = false;
    player.targetX = null;
    player.targetY = null;
  });

  pauseBtn.addEventListener('click', () => {
    if (!state.running && !state.gameOver) return;
    state.paused = !state.paused;
    pauseBtn.textContent = state.paused ? 'ì¬ê°œ' : 'ì¼ì‹œì •ì§€';
    beep(300, 0.04, 'sine', 0.04);
  });

  restartBtn.addEventListener('click', () => {
    resetGame();
    state.running = true;
    panel.style.display = 'none';
    sfxStart();
  });

  // ---------- ìŠ¤í° ----------
  function spawnMeteor(isBoss=false) {
    const r = isBoss ? rand(38, 58) : rand(12, 24);
    const x = rand(r + 10, W - r - 10);
    const y = -r - 10;
    const base = state.speed * (isBoss ? 0.85 : 1.0);
    const vy = base * rand(0.90, 1.20);
    meteors.push({x, y, r, vy, isBoss});
  }

  function spawnCoin() {
    const r = rand(10, 14);
    const x = rand(r + 16, W - r - 16);
    const y = -r - 10;
    const vy = state.speed * 0.80 * rand(0.85, 1.05);
    coins.push({x, y, r, vy, spin: rand(0, Math.PI*2)});
  }

  // ---------- ì¶©ëŒ ----------
  function circleHit(ax, ay, ar, bx, by, br) {
    const dx = ax - bx, dy = ay - by;
    const rr = ar + br;
    return (dx*dx + dy*dy) <= rr*rr;
  }

  function onHit() {
    if (state.invuln > 0) return;

    state.lives -= 1;
    state.invuln = 1.0; // 1ì´ˆ ë¬´ì 
    updateHud();

    sfxHit();
    if (navigator.vibrate) navigator.vibrate(80);

    if (state.lives <= 0) {
      setGameOver();
    } else {
      showToast(`-1 ëª©ìˆ¨! (ë‚¨ì€ ëª©ìˆ¨ ${state.lives})`);
    }
  }

  function onCoin() {
    state.coin += 1;
    // ì½”ì¸ ë³´ë„ˆìŠ¤: ì¦‰ì‹œ ì ìˆ˜ + ë ˆë²¨ì´ ë†’ì„ìˆ˜ë¡ ì¡°ê¸ˆ ë”
    state.score += 35 + state.level * 2;
    updateHud();

    sfxCoin();
    if (navigator.vibrate) navigator.vibrate(20);

    showToast('+ì½”ì¸! ì ìˆ˜ ë³´ë„ˆìŠ¤');
  }

  // ---------- ë Œë” ----------
  function drawBackground() {
    ctx.fillStyle = '#0b1020';
    ctx.fillRect(0, 0, W, H);

    ctx.globalAlpha = 0.22;
    ctx.fillStyle = '#ffffff';
    for (let i=0; i<50; i++) {
      const x = (i * 73 + (state.t*40)) % W;
      const y = (i * 137 + (state.t*70)) % H;
      ctx.fillRect(x, y, 2, 2);
    }
    ctx.globalAlpha = 1;
  }

  function skinColors() {
    if (state.skin === 'blue') return { body:'#cfe7ff', wing:'#3e7bff', accent:'#7db6ff' };
    if (state.skin === 'robot') return { body:'#e9e9ef', wing:'#ff6b6b', accent:'#9be3ff' };
    return { body:'#ffe5e5', wing:'#ff3b3b', accent:'#7db6ff' }; // red
  }

  function drawPlayer() {
    const c = skinColors();

    // ë¬´ì ì´ë©´ ê¹œë¹¡ì„
    if (state.invuln > 0 && Math.floor(state.t * 14) % 2 === 0) {
      ctx.globalAlpha = 0.35;
    }

    ctx.save();
    ctx.translate(player.x, player.y);

    // ë³¸ì²´
    ctx.fillStyle = c.body;
    ctx.beginPath();
    ctx.moveTo(0, -player.r - 6);
    ctx.lineTo(player.r, player.r + 9);
    ctx.lineTo(0, player.r - 2);
    ctx.lineTo(-player.r, player.r + 9);
    ctx.closePath();
    ctx.fill();

    // ë‚ ê°œ
    ctx.fillStyle = c.wing;
    ctx.beginPath();
    ctx.moveTo(-player.r, 2);
    ctx.lineTo(-player.r-14, player.r-2);
    ctx.lineTo(-8, player.r+6);
    ctx.closePath();
    ctx.fill();
    ctx.beginPath();
    ctx.moveTo(player.r, 2);
    ctx.lineTo(player.r+14, player.r-2);
    ctx.lineTo(8, player.r+6);
    ctx.closePath();
    ctx.fill();

    // ì½•í•
    ctx.fillStyle = c.accent;
    ctx.beginPath();
    ctx.ellipse(0, -6, 6, 10, 0, 0, Math.PI*2);
    ctx.fill();

    // ì—”ì§„ ë¶ˆê½ƒ
    if (state.running && !state.paused && !state.gameOver) {
      ctx.globalAlpha = 0.85;
      ctx.fillStyle = '#ffcc66';
      ctx.beginPath();
      ctx.moveTo(0, player.r + 10);
      ctx.lineTo(6, player.r + 18 + Math.sin(state.t*14)*3);
      ctx.lineTo(-6, player.r + 18 + Math.sin(state.t*14)*3);
      ctx.closePath();
      ctx.fill();
      ctx.globalAlpha = 1;
    }

    ctx.restore();
    ctx.globalAlpha = 1;
  }

  function drawMeteors() {
    for (const o of meteors) {
      const boss = o.isBoss;

      // ë°”ë””
      ctx.fillStyle = boss ? '#ff8a4a' : '#ff6b6b';
      ctx.beginPath();
      ctx.arc(o.x, o.y, o.r, 0, Math.PI*2);
      ctx.fill();

      // í¬ë ˆì´í„°/ê·¸ë¦¼ì
      ctx.globalAlpha = 0.22;
      ctx.fillStyle = '#000';
      ctx.beginPath();
      ctx.arc(o.x + o.r*0.25, o.y + o.r*0.25, o.r*0.65, 0, Math.PI*2);
      ctx.fill();
      ctx.globalAlpha = 1;

      // ê¼¬ë¦¬(ë³´ìŠ¤ëŠ” ë” ê¸¸ê²Œ)
      ctx.globalAlpha = 0.55;
      ctx.fillStyle = '#ffcc66';
      const tail = boss ? o.r * 2.3 : o.r * 1.6;
      ctx.beginPath();
      ctx.moveTo(o.x, o.y);
      ctx.lineTo(o.x - o.r*0.3, o.y - tail);
      ctx.lineTo(o.x + o.r*0.3, o.y - tail);
      ctx.closePath();
      ctx.fill();
      ctx.globalAlpha = 1;
    }
  }

  function drawCoins() {
    for (const c of coins) {
      const w = c.r * (0.65 + 0.35*Math.abs(Math.sin(c.spin)));
      ctx.fillStyle = '#ffd54a';
      ctx.beginPath();
      ctx.ellipse(c.x, c.y, w, c.r, 0, 0, Math.PI*2);
      ctx.fill();

      ctx.globalAlpha = 0.25;
      ctx.fillStyle = '#000';
      ctx.beginPath();
      ctx.ellipse(c.x + 2, c.y + 2, w*0.7, c.r*0.7, 0, 0, Math.PI*2);
      ctx.fill();
      ctx.globalAlpha = 1;
    }
  }

  // ---------- ì—…ë°ì´íŠ¸ ----------
  function update(dt) {
    state.t += dt;

    // ë¬´ì  ê°ì†Œ
    if (state.invuln > 0) state.invuln = Math.max(0, state.invuln - dt);

    // ë‚œì´ë„ ìƒìŠ¹
    const newLevel = Math.min(30, 1 + Math.floor(state.score / 180));
    if (newLevel !== state.level) {
      state.level = newLevel;
      state.speed = 220 + (state.level - 1) * 16;
      state.spawnEvery = Math.max(0.30, 0.78 - (state.level - 1) * 0.025);
      state.coinEvery  = Math.max(0.85, 1.60 - (state.level - 1) * 0.02);
      updateHud();
    }

    // í”Œë ˆì´ì–´ ì´ë™
    const follow = 14;
    if (player.targetX !== null) {
      player.x += (player.targetX - player.x) * clamp(follow * dt, 0, 1);
      player.y += (player.targetY - player.y) * clamp(follow * dt, 0, 1);
    }
    player.x = clamp(player.x, player.r + 10, W - player.r - 10);
    player.y = clamp(player.y, player.r + 10, H - player.r - 10);

    // ìš´ì„ ìƒì„±
    state.spawnTimer += dt;
    while (state.spawnTimer >= state.spawnEvery) {
      state.spawnTimer -= state.spawnEvery;
      spawnMeteor(false);
    }

    // ì½”ì¸ ìƒì„±
    state.coinTimer += dt;
    while (state.coinTimer >= state.coinEvery) {
      state.coinTimer -= state.coinEvery;
      spawnCoin();
    }

    // ë³´ìŠ¤ ìƒì„± (ì£¼ê¸°ì ìœ¼ë¡œ í° ìš´ì„ 1ê°œ)
    state.bossTimer += dt;
    if (state.bossTimer >= state.bossEvery) {
      state.bossTimer = 0;
      spawnMeteor(true);
      sfxBoss();
      showToast('ë³´ìŠ¤ ìš´ì„ ë“±ì¥!');
      if (navigator.vibrate) navigator.vibrate([40, 40, 40]);
    }

    // ìš´ì„ ì´ë™/ì¶©ëŒ/ì •ë¦¬
    for (let i = meteors.length - 1; i >= 0; i--) {
      const o = meteors[i];
      o.y += o.vy * dt;

      if (circleHit(player.x, player.y, player.r*0.9, o.x, o.y, o.r*0.95)) {
        onHit();
      }

      if (o.y - o.r > H + 24) {
        meteors.splice(i, 1);
        state.score += 10; // í”¼í•˜ë©´ ì ìˆ˜
      }
    }

    // ì½”ì¸ ì´ë™/ì¶©ëŒ/ì •ë¦¬
    for (let i = coins.length - 1; i >= 0; i--) {
      const c = coins[i];
      c.y += c.vy * dt;
      c.spin += dt * 7.5;

      if (circleHit(player.x, player.y, player.r*0.95, c.x, c.y, c.r*0.9)) {
        coins.splice(i, 1);
        onCoin();
        continue;
      }

      if (c.y - c.r > H + 24) coins.splice(i, 1);
    }

    // ìƒì¡´ ì ìˆ˜(ì‹œê°„)
    state.score += dt * 4;
    updateHud();
  }

  function loop(ts) {
    requestAnimationFrame(loop);
    if (!state.lastTs) state.lastTs = ts;
    const dt = Math.min(0.033, (ts - state.lastTs) / 1000);
    state.lastTs = ts;

    drawBackground();

    if (state.running && !state.paused && !state.gameOver) {
      update(dt);
    }

    drawCoins();
    drawMeteors();
    drawPlayer();

    // ì¼ì‹œì •ì§€ ì˜¤ë²„ë ˆì´
    if (state.paused && !state.gameOver) {
      ctx.fillStyle = 'rgba(0,0,0,0.35)';
      ctx.fillRect(0,0,W,H);
      ctx.fillStyle = '#fff';
      ctx.font = '900 28px system-ui';
      ctx.textAlign = 'center';
      ctx.fillText('ì¼ì‹œì •ì§€', W/2, H/2);
      ctx.font = '700 14px system-ui';
      ctx.fillText('ì˜¤ë¥¸ìª½ ìœ„ "ì¬ê°œ"ë¥¼ ëˆ„ë¥´ì„¸ìš”', W/2, H/2 + 28);
    }
  }

  resetGame();
  requestAnimationFrame(loop);
})();
</script>
</body>
</html>
